HOWTO ADD NEW ACL TO FREEDOMFONE

STEP 1: Create ACL tables (aros, acos, aros_aco)

cd /gui/app/
cake schema create DbAcl


STEP 2: Fill up aros table

cd acl
mysql -u root -p freedomfone < aros.sql


STEP 3: Replace files

Make backup of groups_controller.php and ff_users_controller.php and app_controller.php

cd /gui/app/
cp app_controller.php app_controller.php.bak
cd controllers/
cp groups_controller.php groups_controller.php.bak
cp ff_users_controller.php ff_users_controller.php.bak

Replace with modified controller files

cd /gui/app
cp acl/app_controller.php app_controller.php
cp acl/groups_controller.php controllers/groups_controller.php
cp acl/ff_users_controller.php controllers/ff_users_controller.php



STEP 4: Create acos

Run build_acl() from acl-modified GroupsController
Navigate to: yoursite/freedomfone/groups/build_acl

This will take a while. Last checkout crated 666 records.


STEP 4: Create aros_acos


Modify the method initDB() in  controllers/ff_users_controller.php
Run initDB() from acl-modified FfusersController
Navigate to: yoursite/freedomfone/ff_users/initDB

Should be fairly quick. Last checkout created 63 records.

5) Replace controller files again

cd gui/app
cp app_controller.php.bak app_controller.php
cd controllers/
cp groups_controller.php.bak groups_controller.php
cp ff_users_controller.php.bak ff_users_controller.php